---
layout: yard_main
title: "Module: Google::Cloud::Trace::LabelKey - Stackdriver"
css: 
  - /docs/css/style.css
  - /docs/css/common.css
  - /css/yard-main.css
js: 
  - /docs/js/app.js
  - /js/yard-main.js
---
<script type="text/javascript" charset="utf-8">
  pathId = "Google::Cloud::Trace::LabelKey";
  relpath = '../../../';
</script>


<div class="nav_wrap">
  <iframe id="nav" src="../../../class_list.html?1"></iframe>
  <div id="resizer"></div>
</div>

<div id="main" tabindex="-1">
  <div id="header">
    <div id="menu">
  
    <a href="../../../_index.html">Index (L)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Trace.html" title="Google::Cloud::Trace (module)">Trace</a></span></span>
     &raquo; 
    <span class="title">LabelKey</span>
  
</div>

    <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
    <div class="clear"></div>
  </div>

  <div id="content"><h1>Module: Google::Cloud::Trace::LabelKey
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/google/cloud/trace/label_key.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>A collection of well-known label keys for trace spans.</p>


  </div>
</div>
<div class="tags">
  

</div>
  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="AGENT-constant" class="">AGENT =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/agent</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="COMPONENT-constant" class="">COMPONENT =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/component</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="ERROR_MESSAGE-constant" class="">ERROR_MESSAGE =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/error/message</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="ERROR_NAME-constant" class="">ERROR_NAME =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/error/name</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="HTTP_CLIENT_CITY-constant" class="">HTTP_CLIENT_CITY =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/http/client_city</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="HTTP_CLIENT_COUNTRY-constant" class="">HTTP_CLIENT_COUNTRY =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/http/client_country</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="HTTP_CLIENT_PROTOCOL-constant" class="">HTTP_CLIENT_PROTOCOL =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/http/client_protocol</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="HTTP_CLIENT_REGION-constant" class="">HTTP_CLIENT_REGION =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/http/client_region</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="HTTP_HOST-constant" class="">HTTP_HOST =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/http/host</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="HTTP_METHOD-constant" class="">HTTP_METHOD =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/http/method</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="HTTP_REDIRECTED_URL-constant" class="">HTTP_REDIRECTED_URL =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/http/redirected_url</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="HTTP_REQUEST_SIZE-constant" class="">HTTP_REQUEST_SIZE =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/http/request/size</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="HTTP_RESPONSE_SIZE-constant" class="">HTTP_RESPONSE_SIZE =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/http/response/size</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="HTTP_STATUS_CODE-constant" class="">HTTP_STATUS_CODE =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/http/status_code</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="HTTP_URL-constant" class="">HTTP_URL =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/http/url</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="HTTP_USER_AGENT-constant" class="">HTTP_USER_AGENT =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/http/user_agent</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="PID-constant" class="">PID =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/pid</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="STACKTRACE-constant" class="">STACKTRACE =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/stacktrace</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="TID-constant" class="">TID =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/tid</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_APPLICATION_ERROR-constant" class="">GAE_APPLICATION_ERROR =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/application_error</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_APP_MODULE-constant" class="">GAE_APP_MODULE =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/app/module</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_APP_MODULE_VERSION-constant" class="">GAE_APP_MODULE_VERSION =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/app/module_version</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_APP_VERSION-constant" class="">GAE_APP_VERSION =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/app/version</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_DATASTORE_COUNT-constant" class="">GAE_DATASTORE_COUNT =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/datastore/count</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_DATASTORE_CURSOR-constant" class="">GAE_DATASTORE_CURSOR =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/datastore/cursor</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_DATASTORE_ENTITY_WRITES-constant" class="">GAE_DATASTORE_ENTITY_WRITES =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/datastore/entity_writes</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_DATASTORE_HAS_ANCESTOR-constant" class="">GAE_DATASTORE_HAS_ANCESTOR =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/datastore/has_ancestor</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_DATASTORE_HAS_CURSOR-constant" class="">GAE_DATASTORE_HAS_CURSOR =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/datastore/has_cursor</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_DATASTORE_HAS_TRANSACTION-constant" class="">GAE_DATASTORE_HAS_TRANSACTION =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/datastore/has_transaction</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_DATASTORE_INDEX_WRITES-constant" class="">GAE_DATASTORE_INDEX_WRITES =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/datastore/index_writes</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_DATASTORE_KIND-constant" class="">GAE_DATASTORE_KIND =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/datastore/kind</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_DATASTORE_LIMIT-constant" class="">GAE_DATASTORE_LIMIT =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/datastore/limit</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_DATASTORE_MORE_RESULTS-constant" class="">GAE_DATASTORE_MORE_RESULTS =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/datastore/more_results</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_DATASTORE_OFFSET-constant" class="">GAE_DATASTORE_OFFSET =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/datastore/offset</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_DATASTORE_REQUESTED_ENTITY_DELETES-constant" class="">GAE_DATASTORE_REQUESTED_ENTITY_DELETES =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/datastore/requested_entity_deletes</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_DATASTORE_REQUESTED_ENTITY_PUTS-constant" class="">GAE_DATASTORE_REQUESTED_ENTITY_PUTS =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/datastore/requested_entity_puts</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_DATASTORE_SIZE-constant" class="">GAE_DATASTORE_SIZE =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/datastore/size</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_DATASTORE_SKIPPED-constant" class="">GAE_DATASTORE_SKIPPED =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/datastore/skipped</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_DATASTORE_TRANSACTION_HANDLE-constant" class="">GAE_DATASTORE_TRANSACTION_HANDLE =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/datastore/transaction_handle</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_ERROR_MESSAGE-constant" class="">GAE_ERROR_MESSAGE =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/error_message</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_MEMCACHE_COUNT-constant" class="">GAE_MEMCACHE_COUNT =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/memcache/count</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_MEMCACHE_SIZE-constant" class="">GAE_MEMCACHE_SIZE =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/memcache/size</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="GAE_REQUEST_LOG_ID-constant" class="">GAE_REQUEST_LOG_ID =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>g.co/gae/request_log_id</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="RPC_HOST-constant" class="">RPC_HOST =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/rpc/host</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="RPC_REQUEST_TYPE-constant" class="">RPC_REQUEST_TYPE =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/rpc/request/type</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="RPC_REQUEST_SIZE-constant" class="">RPC_REQUEST_SIZE =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/rpc/request/size</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="RPC_RESPONSE_SIZE-constant" class="">RPC_RESPONSE_SIZE =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/rpc/response/size</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="RPC_STATUS_CODE-constant" class="">RPC_STATUS_CODE =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/rpc/status_code</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_stack_trace-class_method" title="set_stack_trace (class method)">.<strong>set_stack_trace</strong>(labels, stack_frames: nil, skip_frames: 1, truncate_stack: nil, filter_stack: nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Set the stack trace label in the given labels hash.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="set_stack_trace-class_method">
  
    .<strong>set_stack_trace</strong>(labels, stack_frames: nil, skip_frames: 1, truncate_stack: nil, filter_stack: nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Set the stack trace label in the given labels hash. The current call
stack is formatted so the Stackdriver UI will display it.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/trace</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_trace_record'>trace_record</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Trace.html" title="Google::Cloud::Trace (module)">Trace</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TraceRecord.html" title="Google::Cloud::Trace::TraceRecord (class)">TraceRecord</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Trace.html#new-class_method" title="Google::Cloud::Trace.new (method)">new</a></span></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>my-project</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_span'>span</span> <span class='op'>=</span> <span class='id identifier rubyid_trace_record'>trace_record</span><span class='period'>.</span><span class='id identifier rubyid_create_span'>create_span</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>root_span</span><span class='tstring_end'>&quot;</span></span>
<span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Trace.html" title="Google::Cloud::Trace (module)">Trace</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Google::Cloud::Trace::LabelKey (module)">LabelKey</a></span></span><span class='period'>.</span><span class='id identifier rubyid_set_stack_trace'>set_stack_trace</span> <span class='id identifier rubyid_span'>span</span><span class='period'>.</span><span class='id identifier rubyid_labels'>labels</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>labels</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The labels hash in which to set the stack trace
label value.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>stack_frames</span>
      
      
        <span class='type'>(<tt>Array&lt;Thread::Backtrace::Location&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The current
caller stack as returned from <code>::Kernel.caller_locations</code>. If
not set, <code>::Kernel.caller_locations</code> is called internally.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>skip_frames</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Passed to the internal invocation of
<code>::Kernel.caller_locations</code> if one is needed.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>truncate_stack</span>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A procedure that allows skipping of
the &quot;topmost&quot; stack frames. Stack frames, represented by
instances of <code>Thread::Backtrace::Location</code>, are passed to this
proc beginning with the topmost frame. As long as the proc
returns a falsy value, those frames are dropped. Once the proc
returns true for the first time, that frame and all remaining
frames (possibly subject to <code>filter_stack</code>) are used. If not set,
no frames are skipped.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>filter_stack</span>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A procedure that allows skipping of
stack frames in the middle of the stack trace. After possibly
skipping frames using <code>truncate_stack</code>, all remaining frames are
passed to this proc as <code>Thread::Backtrace::Location</code> objects.
Those for whom the proc returns a falsy value are skipped. If
this parameter is not set, no filtering is done and all frames
are presented in the stack trace.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/trace/label_key.rb', line 114</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_set_stack_trace'>set_stack_trace</span> <span class='id identifier rubyid_labels'>labels</span><span class='comma'>,</span>
                         <span class='label'>stack_frames:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>skip_frames:</span> <span class='int'>1</span><span class='comma'>,</span>
                         <span class='label'>truncate_stack:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>filter_stack:</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_stack_frames'>stack_frames</span> <span class='op'>||=</span> <span class='op'>::</span><span class='const'>Kernel</span><span class='period'>.</span><span class='id identifier rubyid_caller_locations'>caller_locations</span> <span class='id identifier rubyid_skip_frames'>skip_frames</span>
  <span class='id identifier rubyid_json_frames'>json_frames</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_collecting_frames'>collecting_frames</span> <span class='op'>=</span> <span class='op'>!</span><span class='id identifier rubyid_truncate_stack'>truncate_stack</span>
  <span class='id identifier rubyid_stack_frames'>stack_frames</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_frame'>frame</span><span class='op'>|</span>
    <span class='id identifier rubyid_collecting_frames'>collecting_frames</span> <span class='op'>||=</span> <span class='id identifier rubyid_truncate_stack'>truncate_stack</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_frame'>frame</span><span class='rparen'>)</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_collecting_frames'>collecting_frames</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='op'>!</span><span class='id identifier rubyid_filter_stack'>filter_stack</span> <span class='op'>||</span> <span class='id identifier rubyid_filter_stack'>filter_stack</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_frame'>frame</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_json_frames'>json_frames</span> <span class='op'>&lt;&lt;</span>
      <span class='lbrace'>{</span>
        <span class='label'>file_name:</span> <span class='id identifier rubyid_frame'>frame</span><span class='period'>.</span><span class='id identifier rubyid_absolute_path'>absolute_path</span><span class='comma'>,</span>
        <span class='label'>line_number:</span> <span class='id identifier rubyid_frame'>frame</span><span class='period'>.</span><span class='id identifier rubyid_lineno'>lineno</span><span class='comma'>,</span>
        <span class='label'>method_name:</span> <span class='id identifier rubyid_frame'>frame</span><span class='period'>.</span><span class='id identifier rubyid_label'>label</span>
      <span class='rbrace'>}</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_json_object'>json_object</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>stack_frame:</span> <span class='id identifier rubyid_json_frames'>json_frames</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_labels'>labels</span><span class='lbracket'>[</span><span class='const'><span class='object_link'><a href="#STACKTRACE-constant" title="Google::Cloud::Trace::LabelKey::STACKTRACE (constant)">STACKTRACE</a></span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_generate'>generate</span> <span class='id identifier rubyid_json_object'>json_object</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

  <div id="footer">
  <ul class="footer-links">
    <li>
      <a href="https://github.com/GoogleCloudPlatform/google-cloud-ruby" title="Google Cloud on Github">
        <img src="/google-cloud-ruby/img/icon-link-github.svg" alt="GitHub icon"> GitHub
      </a>
    </li>
    <li>
      <a href="https://github.com/GoogleCloudPlatform/google-cloud-ruby/issues" title="Google Cloud issues on Github">
        <img src="/google-cloud-ruby/img/icon-link-github.svg" alt="GitHub icon"> Issues
      </a>
    </li>
    <li>
      <a href="http://stackoverflow.com/questions/tagged/google-cloud-ruby" title="Google Cloud on StackOverflow">
      <img src="/google-cloud-ruby/img/icon-link-stackoverflow.svg" alt="StackOverflow icon"> StackOverflow
    </a>
    </li>
    <li>
      <a href="http://rubygems.org/gems/google-cloud" title="Google Cloud on RubyGems">
        <img src="/google-cloud-ruby/img/icon-link-package-manager.svg" alt="RubyGems icon"> RubyGems
      </a>
    </li>
  </ul>

  <p>
    Documentation generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>.
  </p>
</div>

</div>
